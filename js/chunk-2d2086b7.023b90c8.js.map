{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["id","class","for","type","login","user","username","placeholder","required","autofocus","password","data","methods","api","this","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","alert","message","catch","err","console","log","render"],"mappings":"0IACOA,GAAG,MAAMC,MAAM,oD,GACbA,MAAM,a,GACJA,MAAM,8B,EACT,eAEK,MAFDA,MAAM,8BAA6B,UAEvC,G,GACKA,MAAM,S,GAEFA,MAAM,sB,EAET,eAA2C,SAApCC,IAAI,YAAW,iBAAa,G,GAEhCD,MAAM,sB,EAGT,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,EAEhC,eAES,UAFDD,MAAM,oCAAoCE,KAAK,UAAS,QAEhE,G,gDAnBV,eAwBM,MAxBN,EAwBM,CAvBJ,eAsBM,MAtBN,EAsBM,CArBJ,eAoBM,MApBN,EAoBM,CAnBJ,EAGA,eAeM,MAfN,EAeM,CAdJ,eAaO,QAbDF,MAAM,cAAe,SAAM,8CAAU,EAAAG,OAAA,EAAAA,MAAA,qBAAK,e,CAC9C,eAGM,MAHN,EAGM,C,eAFJ,eAAiI,SAA1HD,KAAK,Q,qDAAiB,EAAAE,KAAKC,SAAQ,IAAEL,MAAM,eAAeD,GAAG,WAAWO,YAAY,mBAAmBC,SAAA,GAASC,UAAA,I,mBAA1F,EAAAJ,KAAKC,YAClC,IAEF,eAIM,MAJN,EAIM,C,eAHJ,eACkC,SAD3BH,KAAK,W,qDAAoB,EAAAE,KAAKK,SAAQ,IAAET,MAAM,eAAeD,GAAG,WACrEO,YAAY,WAAWC,SAAA,I,mBADO,EAAAH,KAAKK,YAErC,IAEF,G,0BAUG,GACbC,KADa,WAEX,MAAO,CACLN,KAAM,CACJC,SAAU,GACVI,SAAU,MAIhBE,QAAS,CACPR,MADO,WACE,WACDS,EAAE,UAAO,uCAAP,iBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKT,MACvBY,MAAK,SAAAC,GACJ,GAAIA,EAAIP,KAAKQ,QAAS,CACpB,MAA2BD,EAAIP,KAAvBS,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAEfC,SAASC,OAAT,mBAA8BH,EAA9B,qBAAgD,IAAII,KAAKH,IAEzD,EAAKI,QAAQC,KAAK,wBAElBC,MAAMT,EAAIP,KAAKiB,SACf,EAAKvB,KAAKK,SAAW,MAEtBmB,OAAM,SAAAC,GACPC,QAAQC,IAAIF,SClDtB,EAAOG,OAASA,EAED","file":"js/chunk-2d2086b7.023b90c8.js","sourcesContent":["<template>\r\n  <div id=\"app\" class=\"d-flex justify-content-center align-items-center\">\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <h1 class=\"h3 mb-3 font-weight-normal\">\r\n          請先登入\r\n        </h1>\r\n        <div class=\"col-8\">\r\n          <form class=\"form-signin\" @submit.prevent=\"login\">\r\n            <div class=\"form-floating mb-3\">\r\n              <input type=\"email\" v-model=\"user.username\" class=\"form-control\" id=\"username\" placeholder=\"name@example.com\" required autofocus>\r\n              <label for=\"username\">Email address</label>\r\n            </div>\r\n            <div class=\"form-floating mb-3\">\r\n              <input type=\"password\" v-model=\"user.password\" class=\"form-control\" id=\"password\"\r\n                placeholder=\"Password\" required>\r\n              <label for=\"password\">Password</label>\r\n            </div>\r\n            <button class=\"btn btn-lg btn-primary w-100 mt-3\" type=\"submit\">\r\n              登入\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () { // 資料\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    login () {\r\n      const api = `${process.env.VUE_APP_API}/admin/signin`\r\n      this.$http.post(api, this.user)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            const { token, expired } = res.data\r\n            // 物件解構賦值\r\n            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`\r\n            // console.log(this.$route, this.$router)\r\n            this.$router.push('/admin/products')\r\n          } else {\r\n            alert(res.data.message)\r\n            this.user.password = ''\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Login.vue?vue&type=template&id=33741820\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}